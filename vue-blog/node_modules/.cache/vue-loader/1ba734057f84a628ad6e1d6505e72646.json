{"remainingRequest":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\githubdesk\\Vue-blog\\vue-blog\\src\\views\\Column.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\src\\views\\Column.vue","mtime":1762611711477},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmJsb2ctY29sdW1uLXdvcmRzIHN2Zw0KICB1c2VyLXNlbGVjdCBub25lDQogICYgdGV4dA0KICAgIGN1cnNvciBwb2ludGVyDQogICAgZGlzcGxheTogYmxvY2sNCiAgICBmb250LXdlaWdodCA0MDANCjpyb290DQogIC0td2VjaGF0LWdyZWVuOiAjMDdjMTYwOw0KICAtLXRleHQtZGFyazogIzFkMjEyOTsNCiAgLS10ZXh0LWxpZ2h0OiAjNjY2Ow0KICAtLWJnLXdoaXRlOiAjZmZmZmZmOw0KICAtLXNoYWRvdzogMCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSk7DQogIC0tdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsNCi8vIOiHquWumuS5ieaPkOekuuahhuagt+W8j++8iOWmguaenOe7hOS7tuaUr+aMge+8iQ0KZGl2LnRvb2x0aXANCiAgLy8gcG9zaXRpb24gYWJzb2x1dGUgIWltcG9ydGFudA0KICAvLyB0b3A6IDMwcHggIWltcG9ydGFudCAvKiDmj5DnpLrmoYblnKjnm67moIflhYPntKDkuIrmlrkgKi8NCiAgLy8gbGVmdDogNTAlICFpbXBvcnRhbnQNCiAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQNCiAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50DQogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC02MCUpICFpbXBvcnRhbnQNCiAgcGFkZGluZzogMTJweCAxNnB4ICFpbXBvcnRhbnQNCiAgYmFja2dyb3VuZDogdmFyKC0tYmctd2hpdGUpICFpbXBvcnRhbnQNCiAgYm9yZGVyLXJhZGl1czogOHB4IC8qIOW+ruS/oeWvueivneahhuWchuinkiAqLyAhaW1wb3J0YW50DQogIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdykgIWltcG9ydGFudA0KICBtaW4td2lkdGg6IDE4MHB4ICFpbXBvcnRhbnQNCiAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXIgIWltcG9ydGFudA0KICB0cmFuc2l0aW9uOiB2YXIoLS10cmFuc2l0aW9uKSAhaW1wb3J0YW50DQogIHotaW5kZXg6IDk5OSAhaW1wb3J0YW50DQogIGNvbG9yOiBibGFjayAhaW1wb3J0YW50DQogICY6OmFmdGVyDQogICAgY29udGVudDogJyc7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGJvdHRvbTogLThweDsNCiAgICBsZWZ0OiA1MCU7DQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOw0KICAgIHdpZHRoOiAwOw0KICAgIGhlaWdodDogMDsNCiAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgIGJvcmRlci1yaWdodDogOHB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgIGJvcmRlci10b3A6IDhweCBzb2xpZCB2YXIoLS1iZy13aGl0ZSk7IC8qIOS4juaPkOekuuahhuiDjOaZr+iJsuS4gOiHtCAqLw0K"},{"version":3,"sources":["Column.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Column.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"blog-column-words\">\r\n    <WordCloud :data=\"columnWords\" nameKey=\"name\" :fontSize=\"[15, 60]\" valueKey=\"value\"\r\n      :color=\"['#1f77b4', '#629fc9', '#94bedb', '#c9e0ef']\" :showTooltip=\"true\" :tooltipFormatter=\"tooltipFormatter\"\r\n      :wordClick=\"wordClickHandler\" class=\"hi\">\r\n\r\n    </WordCloud>\r\n\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport WordCloud from 'vue-wordcloud'\r\n\r\nexport default {\r\n  name: 'Column',\r\n  components: { WordCloud },\r\n  data() {\r\n    return {\r\n      columns: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getColumns()\r\n  },\r\n  mounted() {\r\n    this.$EventBus.$on('updateView', () => {\r\n      this.getColumns()\r\n    })\r\n  },\r\n  computed: {\r\n    columnWords() {\r\n      return this.columns.map(item => {\r\n\r\n        return {\r\n          name: item.name,\r\n          value: item.aids.length || 0,\r\n          id: item._id\r\n        }\r\n      })\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async wordClickHandler(name) {\r\n      this.hideTooltip()\r\n\r\n      let columnId = this.columns.find(item => {\r\n        return item.name === name\r\n      })?._id\r\n      console.log(this.$store.state.userInfo)\r\n      if (!this.$store.state.userInfo) {\r\n        try {\r\n          await this.$store.dispatch('getUserInfo')\r\n          // 再次检查是否获取到用户信息\r\n          if (!this.$store.state.userInfo) {\r\n            this.$notify.warning({\r\n              title: '提示',\r\n              message: '请先登录以获取完整功能'\r\n            })\r\n            // 可以选择是否继续跳转\r\n          }\r\n        } catch (err) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '获取用户信息失败，请稍后重试'\r\n          })\r\n          return // 获取失败则不继续\r\n        }\r\n      }\r\n      console.log(columnId)\r\n\r\n      this.$router.push({ name: 'index', query: { columnId: columnId } })\r\n    },\r\n    hideTooltip() {\r\n      // 移除页面中所有的 tooltip 元素\r\n      const tooltips = document.querySelectorAll('.tooltip');\r\n      tooltips.forEach(tooltip => {\r\n        tooltip.style.display = 'none';\r\n        tooltip.remove();\r\n      });\r\n    },\r\n\r\n    async getColumns() {\r\n      try {\r\n        let columns = await this.$api({ type: 'columns' })\r\n        this.columns = columns.list\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.blog-column-words svg\r\n  user-select none\r\n  & text\r\n    cursor pointer\r\n    display: block\r\n    font-weight 400\r\n:root\r\n  --wechat-green: #07c160;\r\n  --text-dark: #1d2129;\r\n  --text-light: #666;\r\n  --bg-white: #ffffff;\r\n  --shadow: 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  --transition: all 0.2s ease;\r\n// 自定义提示框样式（如果组件支持）\r\ndiv.tooltip\r\n  // position absolute !important\r\n  // top: 30px !important /* 提示框在目标元素上方 */\r\n  // left: 50% !important\r\n  height: auto !important\r\n  display: flex !important\r\n  transform: translateX(-50%) translateY(-60%) !important\r\n  padding: 12px 16px !important\r\n  background: var(--bg-white) !important\r\n  border-radius: 8px /* 微信对话框圆角 */ !important\r\n  box-shadow: var(--shadow) !important\r\n  min-width: 180px !important\r\n  text-align: center !important\r\n  justify-content: center !important\r\n  transition: var(--transition) !important\r\n  z-index: 999 !important\r\n  color: black !important\r\n  &::after\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -8px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 8px solid transparent;\r\n    border-right: 8px solid transparent;\r\n    border-top: 8px solid var(--bg-white); /* 与提示框背景色一致 */\r\n</style>\r\n"]}]}