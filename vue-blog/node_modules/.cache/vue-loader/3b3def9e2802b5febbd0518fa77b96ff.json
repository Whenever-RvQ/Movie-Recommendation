{"remainingRequest":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\githubdesk\\Movie-Recommendation\\vue-blog\\src\\components\\base\\BaseUser.vue?vue&type=style&index=0&id=2d48920c&lang=stylus&scoped=true&","dependencies":[{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\src\\components\\base\\BaseUser.vue","mtime":1763206340718},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovLyDkuLvpopjlj5jph4/vvIjkuI7nvZHnq5nnu5/kuIDvvIkNCiRwcmltYXJ5ID0gI0U1MDkxNA0KJHByaW1hcnktZGFyayA9ICNDMDA4MTINCiRsaWdodC1ibGFjayA9ICMyNTI1MjUNCiRsaWdodGVyLWJsYWNrID0gIzMzMzMzMw0KJGxpZ2h0ID0gI0Y4RjhGOA0KJGdyYXkgPSAjQUFBQUFBDQokYm9yZGVyLWNvbG9yID0gIzQ0NDQ0NA0KJHRyYW5zaXRpb24gPSBhbGwgMC4zcyBlYXNlDQoNCi8vIOWFqOWxgOagt+W8jw0KLmNvbnRhaW5lcg0KICBtYXgtd2lkdGggMTAwMHB4DQogIG1hcmdpbiAwIGF1dG8NCiAgcGFkZGluZyAyMHB4DQogIGJhY2tncm91bmQtY29sb3IgJGxpZ2h0LWJsYWNrDQogIG1pbi1oZWlnaHQgMTAwdmgNCg0KLy8g6aG16Z2i5qCH6aKY5qC35byPDQoucGFnZS10aXRsZQ0KICB0ZXh0LWFsaWduIGNlbnRlcg0KICBtYXJnaW4tYm90dG9tIDMwcHgNCiAgcGFkZGluZy1ib3R0b20gMTVweA0KICBib3JkZXItYm90dG9tIDFweCBzb2xpZCAkYm9yZGVyLWNvbG9yDQoNCiAgaDENCiAgICBmb250LXNpemUgY2xhbXAoMS44cmVtLCAzdncsIDIuMnJlbSkNCiAgICBjb2xvciAkbGlnaHQNCiAgICBtYXJnaW4tYm90dG9tIDhweA0KICAgIGZvbnQtd2VpZ2h0IDYwMA0KDQogIHANCiAgICBjb2xvciAkZ3JheQ0KICAgIGZvbnQtc2l6ZSAxcmVtDQoNCi8vIOWNoeeJh+WuueWZqOagt+W8jw0KLmNhcmQNCiAgYmFja2dyb3VuZC1jb2xvciAkbGlnaHRlci1ibGFjaw0KICBib3JkZXItcmFkaXVzIDEycHgNCiAgYm94LXNoYWRvdyAwIDRweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4yKQ0KICBwYWRkaW5nIDMwcHgNCiAgbWFyZ2luLWJvdHRvbSAyNHB4DQogIGJvcmRlciAxcHggc29saWQgJGJvcmRlci1jb2xvcg0KDQovLyDlpLTlg4/kuIrkvKDljLrln58NCi5hdmF0YXItc2VjdGlvbg0KICBkaXNwbGF5IGZsZXgNCiAgZmxleC1kaXJlY3Rpb24gY29sdW1uDQogIGFsaWduLWl0ZW1zIGNlbnRlcg0KICBtYXJnaW4tYm90dG9tIDQwcHgNCiAgZ2FwIDIwcHgNCg0KLmF2YXRhci1jb250YWluZXINCiAgcG9zaXRpb24gcmVsYXRpdmUNCiAgY3Vyc29yIHBvaW50ZXINCg0KLmF2YXRhci1wcmV2aWV3DQogIHdpZHRoIDEyMHB4DQogIGhlaWdodCAxMjBweA0KICBib3JkZXItcmFkaXVzIDUwJQ0KICBvYmplY3QtZml0IGNvdmVyDQogIGJvcmRlciA0cHggc29saWQgJGJvcmRlci1jb2xvcg0KICBib3gtc2hhZG93IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjMpDQogIGJhY2tncm91bmQtY29sb3IgJGxpZ2h0LWJsYWNrDQoNCi5hdmF0YXItY2hvb3NlDQogIHBvc2l0aW9uIGFic29sdXRlDQogIGRpc3BsYXkgbm9uZQ0KDQouYXZhdGFyLXVwbG9hZC1vdmVybGF5DQogIHBvc2l0aW9uIGFic29sdXRlDQogIHRvcCAwDQogIGxlZnQgMA0KICB3aWR0aCAxMjBweA0KICBoZWlnaHQgMTIwcHgNCiAgYm9yZGVyLXJhZGl1cyA1MCUNCiAgYmFja2dyb3VuZC1jb2xvciByZ2JhKDAsIDAsIDAsIDAuNikNCiAgZGlzcGxheSBmbGV4DQogIGFsaWduLWl0ZW1zIGNlbnRlcg0KICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyDQogIG9wYWNpdHkgMA0KICB0cmFuc2l0aW9uICR0cmFuc2l0aW9uDQogIGN1cnNvciBwb2ludGVyDQoNCi5hdmF0YXItY29udGFpbmVyOmhvdmVyIC5hdmF0YXItdXBsb2FkLW92ZXJsYXkNCiAgb3BhY2l0eSAxDQoNCi5hdmF0YXItdXBsb2FkLWljb24NCiAgY29sb3IgJGxpZ2h0DQogIGZvbnQtc2l6ZSAyNHB4DQoNCi5hdmF0YXItaW5mbw0KICB3aWR0aCAxMDAlDQogIG1heC13aWR0aCA0MDBweA0KICBkaXNwbGF5IGZsZXgNCiAgZmxleC1kaXJlY3Rpb24gY29sdW1uDQogIGFsaWduLWl0ZW1zIGZsZXgtc3RhcnQNCg0KICBoMw0KICAgIGZvbnQtc2l6ZSAxLjFyZW0NCiAgICBjb2xvciAkbGlnaHQNCiAgICBtYXJnaW4tYm90dG9tIDhweA0KICAgIGZvbnQtd2VpZ2h0IDYwMA0KDQogIHANCiAgICBkaXNwbGF5IGJsb2NrDQogICAgY29sb3IgJGdyYXkNCiAgICBmb250LXNpemUgMC45cmVtDQogICAgbWFyZ2luLWJvdHRvbSAxMnB4DQoNCi5hdmF0YXItcnVsZXMNCiAgZGlzcGxheSBibG9jaw0KICBsaXN0LXN0eWxlIG5vbmUNCiAgZm9udC1zaXplIDAuODVyZW0NCiAgY29sb3IgJGdyYXkNCiAgcGFkZGluZyAwDQoNCiAgbGkNCiAgICBtYXJnaW4tYm90dG9tIDZweA0KICAgIGRpc3BsYXkgZmxleA0KICAgIGFsaWduLWl0ZW1zIGNlbnRlcg0KDQogIGkNCiAgICBjb2xvciAkcHJpbWFyeQ0KICAgIG1hcmdpbi1yaWdodCA4cHgNCiAgICBmb250LXNpemUgMC45cmVtDQoNCi8vIOihqOWNleagt+W8jw0KLnByb2ZpbGUtZm9ybQ0KICBkaXNwbGF5IGZsZXgNCiAgZmxleC1kaXJlY3Rpb24gY29sdW1uDQogIGdhcCAyNHB4DQoNCi5mb3JtLWdyb3VwDQogIHRyYW5zaXRpb24gJHRyYW5zaXRpb24NCiAgZGlzcGxheSBmbGV4DQogIGZsZXgtZGlyZWN0aW9uIGNvbHVtbg0KICBhbGlnbi1pdGVtcyBmbGV4LXN0YXJ0DQogIHdpZHRoIDEwMCUNCg0KLmZvcm0tZ3JvdXA6Zm9jdXMtd2l0aGluDQogIHRyYW5zZm9ybSB0cmFuc2xhdGVZKC0ycHgpDQoNCi5mb3JtLWxhYmVsDQogIGRpc3BsYXkgYmxvY2sNCiAgbWFyZ2luLWJvdHRvbSA4cHgNCiAgZm9udC13ZWlnaHQgNTAwDQogIGNvbG9yICRsaWdodA0KICBmb250LXNpemUgMC45NXJlbQ0KDQouZm9ybS1pbnB1dC13cmFwcGVyDQogIHdpZHRoIDEwMCUNCiAgcG9zaXRpb24gcmVsYXRpdmUNCg0KLmZvcm0taW5wdXQNCiAgd2lkdGggMTAwJQ0KICBwYWRkaW5nIDEycHggMTZweA0KICBib3JkZXIgMXB4IHNvbGlkICRib3JkZXItY29sb3INCiAgYm9yZGVyLXJhZGl1cyA4cHgNCiAgZm9udC1zaXplIDAuOTVyZW0NCiAgY29sb3IgJGxpZ2h0DQogIGJhY2tncm91bmQtY29sb3IgJGxpZ2h0LWJsYWNrDQogIHRyYW5zaXRpb24gJHRyYW5zaXRpb24NCg0KLmZvcm0taW5wdXQuaWNvbi1sZWZ0DQogIHBhZGRpbmctbGVmdCA0NHB4DQoNCi5mb3JtLWlucHV0OmZvY3VzDQogIG91dGxpbmUgbm9uZQ0KICBib3JkZXItY29sb3IgJHByaW1hcnkNCiAgYm94LXNoYWRvdyAwIDAgMCAzcHggcmdiYSgyMjksOSwyMCwwLjIpDQoNCi5pbnB1dC1pY29uDQogIHBvc2l0aW9uIGFic29sdXRlDQogIGxlZnQgMTZweA0KICB0b3AgNTAlDQogIHRyYW5zZm9ybSB0cmFuc2xhdGVZKC01MCUpDQogIGNvbG9yICRncmF5DQogIGZvbnQtc2l6ZSAxcmVtDQoNCi5mb3JtLXRleHRhcmVhDQogIHdpZHRoIDEwMCUNCiAgcGFkZGluZyAxMnB4IDE2cHgNCiAgYm9yZGVyIDFweCBzb2xpZCAkYm9yZGVyLWNvbG9yDQogIGJvcmRlci1yYWRpdXMgOHB4DQogIGZvbnQtc2l6ZSAwLjk1cmVtDQogIGNvbG9yICRsaWdodA0KICBiYWNrZ3JvdW5kLWNvbG9yICRsaWdodC1ibGFjaw0KICByZXNpemUgbm9uZQ0KICBtaW4taGVpZ2h0IDEwMHB4DQogIHRyYW5zaXRpb24gJHRyYW5zaXRpb24NCg0KLmZvcm0tdGV4dGFyZWE6Zm9jdXMNCiAgb3V0bGluZSBub25lDQogIGJvcmRlci1jb2xvciAkcHJpbWFyeQ0KICBib3gtc2hhZG93IDAgMCAwIDNweCByZ2JhKDIyOSw5LDIwLDAuMikNCg0KLmdlbmRlci1vcHRpb25zDQogIGRpc3BsYXkgZmxleA0KICBnYXAgMjRweA0KICBtYXJnaW4tdG9wIDhweA0KDQouZ2VuZGVyLW9wdGlvbg0KICBkaXNwbGF5IGZsZXgNCiAgYWxpZ24taXRlbXMgY2VudGVyDQogIGN1cnNvciBwb2ludGVyDQoNCi5nZW5kZXItaW5wdXQNCiAgbWFyZ2luLXJpZ2h0IDhweA0KICBhY2NlbnQtY29sb3IgJHByaW1hcnkNCg0KLmdlbmRlci1sYWJlbA0KICBjb2xvciAkbGlnaHQNCiAgZm9udC1zaXplIDAuOTVyZW0NCg0KLmNoYXItY291bnQNCiAgcG9zaXRpb24gYWJzb2x1dGUNCiAgcmlnaHQgMTZweA0KICBib3R0b20gMTJweA0KICBmb250LXNpemUgMC44cmVtDQogIGNvbG9yICRncmF5DQoNCi5lcnJvci1tZXNzYWdlDQogIGNvbG9yICRwcmltYXJ5DQogIGZvbnQtc2l6ZSAwLjg1cmVtDQogIG1hcmdpbi10b3AgNnB4DQogIGRpc3BsYXkgbm9uZQ0KDQovLyDmjInpkq7ljLrln5/moLflvI8NCi5idXR0b24tZ3JvdXANCiAgZGlzcGxheSBmbGV4DQogIGp1c3RpZnktY29udGVudCBmbGV4LWVuZA0KICBnYXAgMTZweA0KICBtYXJnaW4tdG9wIDE2cHgNCiAgZmxleC13cmFwIHdyYXANCg0KLmJ0bg0KICBwYWRkaW5nIDEycHggMjRweA0KICBib3JkZXItcmFkaXVzIDhweA0KICBmb250LXNpemUgMC45NXJlbQ0KICBmb250LXdlaWdodCA1MDANCiAgY3Vyc29yIHBvaW50ZXINCiAgdHJhbnNpdGlvbiAkdHJhbnNpdGlvbg0KICBib3JkZXIgbm9uZQ0KICBkaXNwbGF5IGlubGluZS1mbGV4DQogIGFsaWduLWl0ZW1zIGNlbnRlcg0KICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyDQoNCi5oaWRkZW4NCiAgZGlzcGxheSBub25lDQoNCi5idG4gaQ0KICBtYXJnaW4tcmlnaHQgOHB4DQoNCi5idG4tY2FuY2VsDQogIGJhY2tncm91bmQtY29sb3IgJGxpZ2h0LWJsYWNrDQogIGNvbG9yICRsaWdodA0KICBib3JkZXIgMXB4IHNvbGlkICRib3JkZXItY29sb3INCg0KLmJ0bi1jYW5jZWw6aG92ZXINCiAgYmFja2dyb3VuZC1jb2xvciAjNDQ0NDQ0DQogIGJvcmRlci1jb2xvciAjNTU1NTU1DQoNCi5idG4tc2F2ZQ0KICBiYWNrZ3JvdW5kLWNvbG9yICRwcmltYXJ5DQogIGNvbG9yICRsaWdodA0KDQouYnRuLXNhdmU6aG92ZXINCiAgYmFja2dyb3VuZC1jb2xvciAkcHJpbWFyeS1kYXJrDQogIGJveC1zaGFkb3cgMCA0cHggMTJweCByZ2JhKDIyOSw5LDIwLDAuMykNCiAgdHJhbnNmb3JtIHRyYW5zbGF0ZVkoLTJweCkNCg0KLmJ0bi1zYXZlOmFjdGl2ZQ0KICB0cmFuc2Zvcm0gdHJhbnNsYXRlWSgwKQ0KDQovLyDlk43lupTlvI/pgILphY0NCkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkNCiAgLmF2YXRhci1zZWN0aW9uDQogICAgZmxleC1kaXJlY3Rpb24gcm93DQogICAgYWxpZ24taXRlbXMgY2VudGVyDQogICAgZ2FwIDMycHgNCg0KICAuYXZhdGFyLWluZm8NCiAgICBtYXJnaW4tdG9wIDANCg0KICAuYnV0dG9uLWdyb3VwDQogICAgZmxleC13cmFwIG5vd3JhcA0KDQpAbWVkaWEgKG1heC13aWR0aDogNzY3cHgpDQogIC5jYXJkDQogICAgcGFkZGluZyAyMHB4DQoNCiAgLmdlbmRlci1vcHRpb25zDQogICAgZmxleC1kaXJlY3Rpb24gY29sdW1uDQogICAgZ2FwIDEycHgNCg0KICAuYnRuDQogICAgZmxleCAxDQogICAgbWluLXdpZHRoIDEwMCUNCg0KICAuY29udGFpbmVyDQogICAgcGFkZGluZyAxNXB4DQoNCiAgLnBhZ2UtdGl0bGUNCiAgICBtYXJnaW4tYm90dG9tIDIwcHgNCg=="},{"version":3,"sources":["BaseUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"BaseUser.vue","sourceRoot":"src/components/base","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!-- 页面标题 -->\r\n    <div class=\"page-title\">\r\n      <h1>个人信息设置</h1>\r\n      <p>更新您的个人资料和账户信息</p>\r\n    </div>\r\n\r\n    <!-- 信息卡片 -->\r\n    <div class=\"card\">\r\n      <!-- 头像上传区域 -->\r\n      <div class=\"avatar-section\">\r\n        <div class=\"avatar-container\" @click=\"triggerFileInput\">\r\n          <img :src=\"userInfo.avator ? userInfo.avator : defaultAvatar\" alt=\"用户头像\" class=\"avatar-preview\">\r\n          <div class=\"avatar-upload-overlay\">\r\n            <i class=\"fa fa-camera avatar-upload-icon\"></i>\r\n          </div>\r\n          <input type=\"file\" ref=\"fileInput\" class=\"hidden avatar-choose\" accept=\"image/*\"\r\n            @change=\"handleFileSelect\">\r\n        </div>\r\n\r\n        <div class=\"avatar-info\">\r\n          <h3>头像设置</h3>\r\n          <p>上传清晰的个人照片有助于他人更好地识别您的身份。</p>\r\n          <ul class=\"avatar-rules\">\r\n            <li><i class=\"fa fa-check-circle\"></i> 支持 JPG、PNG 格式</li>\r\n            <li><i class=\"fa fa-check-circle\"></i> 图片大小不超过 5MB</li>\r\n            <li><i class=\"fa fa-check-circle\"></i> 建议尺寸 200×200 像素</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 表单区域 -->\r\n      <form class=\"profile-form\">\r\n        <!-- 姓名 -->\r\n        <div class=\"form-group\">\r\n          <label for=\"fullname\" class=\"form-label\">昵称</label>\r\n          <div class=\"form-input-wrapper\">\r\n            <i class=\"fa fa-user input-icon\"></i>\r\n            <input type=\"text\" id=\"fullname\" class=\"form-input icon-left\" :value=\"userInfo.nikname\"\r\n              placeholder=\"请输入您的昵称\" ref=\"niknameInput\">\r\n          </div>\r\n          <p class=\"error-message\">请输入有效的昵称</p>\r\n        </div>\r\n\r\n        <!-- 性别 -->\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label\">性别</label>\r\n          <div class=\"gender-options\">\r\n            <label class=\"gender-option\">\r\n              <input type=\"radio\" name=\"gender\" value=\"male\" :checked=\"userInfo.gender === 'male' || !userInfo.gender\" class=\"gender-input\">\r\n              <span class=\"gender-label\">男</span>\r\n            </label>\r\n            <label class=\"gender-option\">\r\n              <input type=\"radio\" name=\"gender\" value=\"female\" :checked=\"userInfo.gender === 'female'\" class=\"gender-input\">\r\n              <span class=\"gender-label\">女</span>\r\n            </label>\r\n            <label class=\"gender-option\">\r\n              <input type=\"radio\" name=\"gender\" value=\"other\" :checked=\"userInfo.gender === 'other'\" class=\"gender-input\">\r\n              <span class=\"gender-label\">保密</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 手机号码 -->\r\n        <div class=\"form-group\">\r\n          <label for=\"phone\" class=\"form-label\">手机号码</label>\r\n          <div class=\"form-input-wrapper\">\r\n            <i class=\"fa fa-phone input-icon\"></i>\r\n            <input type=\"tel\" id=\"phone\" class=\"form-input icon-left\" :value=\"userInfo.phone ? userInfo.phone : '138****1234'\"\r\n              placeholder=\"请输入您的手机号码\">\r\n          </div>\r\n          <p class=\"error-message\">请输入有效的手机号码</p>\r\n        </div>\r\n\r\n        <!-- 电子邮箱 -->\r\n        <div class=\"form-group\">\r\n          <label for=\"email\" class=\"form-label\">电子邮箱</label>\r\n          <div class=\"form-input-wrapper\">\r\n            <i class=\"fa fa-envelope input-icon\"></i>\r\n            <input type=\"email\" id=\"email\" class=\"form-input icon-left\" :value=\"userInfo.email\"\r\n              placeholder=\"请输入您的电子邮箱\" ref=\"emailInput\">\r\n          </div>\r\n          <p class=\"error-message\">请输入有效的电子邮箱</p>\r\n        </div>\r\n\r\n        <!-- 出生日期 -->\r\n        <div class=\"form-group\">\r\n          <label for=\"birthday\" class=\"form-label\">出生日期</label>\r\n          <div class=\"form-input-wrapper\">\r\n            <i class=\"fa fa-calendar input-icon\"></i>\r\n            <input type=\"date\" id=\"birthday\" class=\"form-input icon-left\" :value=\"userInfo.birthday ? userInfo.birthday : '1990-01-01'\">\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 个人简介 -->\r\n        <div class=\"form-group\">\r\n          <label for=\"bio\" class=\"form-label\">个性签名</label>\r\n          <div class=\"form-input-wrapper\" style=\"position: relative;\">\r\n            <textarea id=\"bio\" class=\"form-textarea\" placeholder=\"请输入您的个性签名（可选）\"\r\n              v-model=\"signature\" ref=\"signatureInput\"></textarea>\r\n            <span class=\"char-count\">{{ signature.length }}/150</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 提交按钮区域 -->\r\n        <div class=\"button-group\">\r\n          <button type=\"button\" class=\"btn btn-cancel\" @click=\"cancelEdit()\">取消</button>\r\n          <button type=\"button\" class=\"btn btn-save\" @click=\"changeUserInfo()\">\r\n            <i class=\"fa fa-save\"></i> 保存修改\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'BaseUser',\r\n  data() {\r\n    return {\r\n      userInfo: this.$store.state.userInfo || {},\r\n      form: {\r\n        avator: '',\r\n        nikname: '',\r\n        email: '',\r\n        signature: '',\r\n        gender: '',\r\n        phone: '',\r\n        birthday: ''\r\n      },\r\n      file: null,\r\n      defaultAvatar: 'https://via.placeholder.com/120/333333/FFFFFF?text=默认头像', // 默认头像占位图\r\n      signature: '' // 单独存储个性签名，避免模板中使用可选链\r\n    };\r\n  },\r\n  mounted() {\r\n    // 初始化表单数据\r\n    this.form = {\r\n      ...this.userInfo,\r\n      avator: this.userInfo.avator ? this.userInfo.avator : this.defaultAvatar\r\n    };\r\n    // 初始化个性签名\r\n    this.signature = this.userInfo.signature ? this.userInfo.signature : '';\r\n  },\r\n  methods: {\r\n    // 取消编辑\r\n    cancelEdit() {\r\n      this.$router.go(-1); // 返回上一页\r\n    },\r\n    // 触发文件选择\r\n    triggerFileInput() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n    // 处理文件选择\r\n    handleFileSelect(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        // 验证文件类型和大小\r\n        if (!this.validateFile(file)) {\r\n          this.$notify.warning({\r\n            title: '提示',\r\n            message: '请选择有效的图片文件（JPG/PNG，大小不超过5MB）'\r\n          });\r\n          return;\r\n        }\r\n        // 创建文件预览\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.$el.querySelector('.avatar-preview').src = e.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n        this.file = file;\r\n      }\r\n    },\r\n    // 验证文件\r\n    validateFile(file) {\r\n      const validTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n      const maxSize = 5 * 1024 * 1024; // 5MB\r\n      return validTypes.includes(file.type) && file.size <= maxSize;\r\n    },\r\n    async changeUserInfo() {\r\n      await this.getInputValue();\r\n      try {\r\n        const res = await this.$api({\r\n          type: 'putUserInfo',\r\n          data: this.form,\r\n          params: {\r\n            id: this.userInfo._id\r\n          }\r\n        });\r\n        if (res) {\r\n          // 更新Vuex中的用户信息\r\n          const updatedUserInfo = {\r\n            ...this.userInfo,\r\n            ...this.form\r\n          };\r\n          this.$store.commit('SET_USERINFO', updatedUserInfo);\r\n          // 显示成功提示\r\n          this.$notify.success({\r\n            title: '成功',\r\n            message: '用户信息更新成功'\r\n          });\r\n          console.log('用户信息更新成功:', res);\r\n        }\r\n      } catch (err) {\r\n        this.$notify.error({\r\n          title: '失败',\r\n          message: '用户信息更新失败，请稍后重试'\r\n        });\r\n        console.error('更新失败:', err);\r\n      }\r\n    },\r\n    async getInputValue() {\r\n      this.form.nikname = this.$refs.niknameInput.value;\r\n      this.form.email = this.$refs.emailInput.value;\r\n      this.form.signature = this.signature; // 从单独存储的变量获取\r\n      // 获取性别值\r\n      const genderEl = document.querySelector('input[name=\"gender\"]:checked');\r\n      this.form.gender = genderEl ? genderEl.value : 'other';\r\n      // 获取手机号和生日\r\n      this.form.phone = document.getElementById('phone').value;\r\n      this.form.birthday = document.getElementById('birthday').value;\r\n      await this.getAvatarUrl();\r\n    },\r\n    async getAvatarUrl() {\r\n      if (this.file) {\r\n        try {\r\n          const formData = new FormData();\r\n          formData.append('file', this.file);\r\n          formData.append('uid', this.userInfo._id);\r\n          let res = await this.$api({\r\n            type: 'uploadAvatar',\r\n            data: formData,\r\n          });\r\n          this.form.avator = res.fileURL;\r\n        } catch (err) {\r\n          console.error('头像上传失败:', err);\r\n          this.$notify.error({\r\n            title: '失败',\r\n            message: '头像上传失败，请稍后重试'\r\n          });\r\n        }\r\n      } else {\r\n        this.form.avator = this.userInfo.avator ? this.userInfo.avator : this.defaultAvatar;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n// 主题变量（与网站统一）\r\n$primary = #E50914\r\n$primary-dark = #C00812\r\n$light-black = #252525\r\n$lighter-black = #333333\r\n$light = #F8F8F8\r\n$gray = #AAAAAA\r\n$border-color = #444444\r\n$transition = all 0.3s ease\r\n\r\n// 全局样式\r\n.container\r\n  max-width 1000px\r\n  margin 0 auto\r\n  padding 20px\r\n  background-color $light-black\r\n  min-height 100vh\r\n\r\n// 页面标题样式\r\n.page-title\r\n  text-align center\r\n  margin-bottom 30px\r\n  padding-bottom 15px\r\n  border-bottom 1px solid $border-color\r\n\r\n  h1\r\n    font-size clamp(1.8rem, 3vw, 2.2rem)\r\n    color $light\r\n    margin-bottom 8px\r\n    font-weight 600\r\n\r\n  p\r\n    color $gray\r\n    font-size 1rem\r\n\r\n// 卡片容器样式\r\n.card\r\n  background-color $lighter-black\r\n  border-radius 12px\r\n  box-shadow 0 4px 20px rgba(0, 0, 0, 0.2)\r\n  padding 30px\r\n  margin-bottom 24px\r\n  border 1px solid $border-color\r\n\r\n// 头像上传区域\r\n.avatar-section\r\n  display flex\r\n  flex-direction column\r\n  align-items center\r\n  margin-bottom 40px\r\n  gap 20px\r\n\r\n.avatar-container\r\n  position relative\r\n  cursor pointer\r\n\r\n.avatar-preview\r\n  width 120px\r\n  height 120px\r\n  border-radius 50%\r\n  object-fit cover\r\n  border 4px solid $border-color\r\n  box-shadow 0 4px 10px rgba(0, 0, 0, 0.3)\r\n  background-color $light-black\r\n\r\n.avatar-choose\r\n  position absolute\r\n  display none\r\n\r\n.avatar-upload-overlay\r\n  position absolute\r\n  top 0\r\n  left 0\r\n  width 120px\r\n  height 120px\r\n  border-radius 50%\r\n  background-color rgba(0, 0, 0, 0.6)\r\n  display flex\r\n  align-items center\r\n  justify-content center\r\n  opacity 0\r\n  transition $transition\r\n  cursor pointer\r\n\r\n.avatar-container:hover .avatar-upload-overlay\r\n  opacity 1\r\n\r\n.avatar-upload-icon\r\n  color $light\r\n  font-size 24px\r\n\r\n.avatar-info\r\n  width 100%\r\n  max-width 400px\r\n  display flex\r\n  flex-direction column\r\n  align-items flex-start\r\n\r\n  h3\r\n    font-size 1.1rem\r\n    color $light\r\n    margin-bottom 8px\r\n    font-weight 600\r\n\r\n  p\r\n    display block\r\n    color $gray\r\n    font-size 0.9rem\r\n    margin-bottom 12px\r\n\r\n.avatar-rules\r\n  display block\r\n  list-style none\r\n  font-size 0.85rem\r\n  color $gray\r\n  padding 0\r\n\r\n  li\r\n    margin-bottom 6px\r\n    display flex\r\n    align-items center\r\n\r\n  i\r\n    color $primary\r\n    margin-right 8px\r\n    font-size 0.9rem\r\n\r\n// 表单样式\r\n.profile-form\r\n  display flex\r\n  flex-direction column\r\n  gap 24px\r\n\r\n.form-group\r\n  transition $transition\r\n  display flex\r\n  flex-direction column\r\n  align-items flex-start\r\n  width 100%\r\n\r\n.form-group:focus-within\r\n  transform translateY(-2px)\r\n\r\n.form-label\r\n  display block\r\n  margin-bottom 8px\r\n  font-weight 500\r\n  color $light\r\n  font-size 0.95rem\r\n\r\n.form-input-wrapper\r\n  width 100%\r\n  position relative\r\n\r\n.form-input\r\n  width 100%\r\n  padding 12px 16px\r\n  border 1px solid $border-color\r\n  border-radius 8px\r\n  font-size 0.95rem\r\n  color $light\r\n  background-color $light-black\r\n  transition $transition\r\n\r\n.form-input.icon-left\r\n  padding-left 44px\r\n\r\n.form-input:focus\r\n  outline none\r\n  border-color $primary\r\n  box-shadow 0 0 0 3px rgba(229,9,20,0.2)\r\n\r\n.input-icon\r\n  position absolute\r\n  left 16px\r\n  top 50%\r\n  transform translateY(-50%)\r\n  color $gray\r\n  font-size 1rem\r\n\r\n.form-textarea\r\n  width 100%\r\n  padding 12px 16px\r\n  border 1px solid $border-color\r\n  border-radius 8px\r\n  font-size 0.95rem\r\n  color $light\r\n  background-color $light-black\r\n  resize none\r\n  min-height 100px\r\n  transition $transition\r\n\r\n.form-textarea:focus\r\n  outline none\r\n  border-color $primary\r\n  box-shadow 0 0 0 3px rgba(229,9,20,0.2)\r\n\r\n.gender-options\r\n  display flex\r\n  gap 24px\r\n  margin-top 8px\r\n\r\n.gender-option\r\n  display flex\r\n  align-items center\r\n  cursor pointer\r\n\r\n.gender-input\r\n  margin-right 8px\r\n  accent-color $primary\r\n\r\n.gender-label\r\n  color $light\r\n  font-size 0.95rem\r\n\r\n.char-count\r\n  position absolute\r\n  right 16px\r\n  bottom 12px\r\n  font-size 0.8rem\r\n  color $gray\r\n\r\n.error-message\r\n  color $primary\r\n  font-size 0.85rem\r\n  margin-top 6px\r\n  display none\r\n\r\n// 按钮区域样式\r\n.button-group\r\n  display flex\r\n  justify-content flex-end\r\n  gap 16px\r\n  margin-top 16px\r\n  flex-wrap wrap\r\n\r\n.btn\r\n  padding 12px 24px\r\n  border-radius 8px\r\n  font-size 0.95rem\r\n  font-weight 500\r\n  cursor pointer\r\n  transition $transition\r\n  border none\r\n  display inline-flex\r\n  align-items center\r\n  justify-content center\r\n\r\n.hidden\r\n  display none\r\n\r\n.btn i\r\n  margin-right 8px\r\n\r\n.btn-cancel\r\n  background-color $light-black\r\n  color $light\r\n  border 1px solid $border-color\r\n\r\n.btn-cancel:hover\r\n  background-color #444444\r\n  border-color #555555\r\n\r\n.btn-save\r\n  background-color $primary\r\n  color $light\r\n\r\n.btn-save:hover\r\n  background-color $primary-dark\r\n  box-shadow 0 4px 12px rgba(229,9,20,0.3)\r\n  transform translateY(-2px)\r\n\r\n.btn-save:active\r\n  transform translateY(0)\r\n\r\n// 响应式适配\r\n@media (min-width: 768px)\r\n  .avatar-section\r\n    flex-direction row\r\n    align-items center\r\n    gap 32px\r\n\r\n  .avatar-info\r\n    margin-top 0\r\n\r\n  .button-group\r\n    flex-wrap nowrap\r\n\r\n@media (max-width: 767px)\r\n  .card\r\n    padding 20px\r\n\r\n  .gender-options\r\n    flex-direction column\r\n    gap 12px\r\n\r\n  .btn\r\n    flex 1\r\n    min-width 100%\r\n\r\n  .container\r\n    padding 15px\r\n\r\n  .page-title\r\n    margin-bottom 20px\r\n</style>"]}]}