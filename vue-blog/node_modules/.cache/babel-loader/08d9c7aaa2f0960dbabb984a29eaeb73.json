{"remainingRequest":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\src\\store\\index.js","dependencies":[{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\src\\store\\index.js","mtime":1611588414795},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovXHU5ODg0XHU3OUQxXHU3M0VENi4yL1x1NTI0RFx1N0FFRlx1Njg0Nlx1NjdCNlx1NzNFRC92dWUvVnVlXHU3QjJDXHU0RThDXHU1MzQxXHU0RTA5XHU1OTI5IFZ1ZVx1OUFEOFx1N0VBNyAgVnVlICB2dWUtYmxvZyBcdTY1ODdcdTdBRTBcdTUyMTdcdTg4NjgvXHU2ODQ4XHU0RjhCL3Z1ZS1ibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHN0b3JlIGZyb20gJ3N0b3JlJzsKaW1wb3J0IGJhc2UgZnJvbSAnQC9jb25maWcvYmFzZS5jb25maWcnOwppbXBvcnQgaHR0cCBmcm9tICdAL2FwaS9odHRwJzsKaW1wb3J0IG1vZGFsIGZyb20gJy4vbW9kdWxlcy9tb2RhbCc7CnZhciBUT0tFTl9OQU1FID0gYmFzZS5UT0tFTl9OQU1FOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHRva2VuOiBzdG9yZS5nZXQoVE9LRU5fTkFNRSkgfHwgIiIsCiAgICB1c2VySW5mbzoge30KICB9LAogIGdldHRlcnM6IHsKICAgIHVzZXJJbmZvOiBmdW5jdGlvbiB1c2VySW5mbyhzdGF0ZSkgewogICAgICBpZiAoc3RhdGUudG9rZW4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUpIHsKICAgICAgc3RhdGUudG9rZW4gPSBzdG9yZS5nZXQoVE9LRU5fTkFNRSk7CiAgICB9LAogICAgU0VUX1VTRVJJTkZPOiBmdW5jdGlvbiBTRVRfVVNFUklORk8oc3RhdGUsIHVzZXJJbmZvKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0gdXNlckluZm87CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkaXNwYXRjaCwgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicpOwogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ2dldFVzZXJJbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oX3JlZjIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlckluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBodHRwKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ2dldFVzZXJJbmZvJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHVzZXJJbmZvID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9VU0VSSU5GTycsIHVzZXJJbmZvKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHsKICAgIG1vZGFsOiBtb2RhbAogIH0KfSk7"},{"version":3,"sources":["D:/预科班6.2/前端框架班/vue/Vue第二十三天 Vue高级  Vue  vue-blog 文章列表/案例/vue-blog/src/store/index.js"],"names":["Vue","Vuex","store","base","http","modal","TOKEN_NAME","use","Store","state","token","get","userInfo","getters","mutations","SET_TOKEN","SET_USERINFO","actions","login","dispatch","commit","getUserInfo","type","console","log","modules"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AAEA,OAAOC,KAAP,MAAkB,iBAAlB;IAEQC,U,GAAeH,I,CAAfG,U;AAERN,GAAG,CAACO,GAAJ,CAAQN,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACO,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAER,KAAK,CAACS,GAAN,CAAUL,UAAV,KAAyB,EAD3B;AAELM,IAAAA,QAAQ,EAAE;AAFL,GADqB;AAK5BC,EAAAA,OAAO,EAAE;AACPD,IAAAA,QADO,oBACGH,KADH,EACU;AACf,UAAIA,KAAK,CAACC,KAAV,EAAiB;AACf;AACD;AACF;AALM,GALmB;AAY5BI,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACEN,KADF,EACS;AAChBA,MAAAA,KAAK,CAACC,KAAN,GAAcR,KAAK,CAACS,GAAN,CAAUL,UAAV,CAAd;AACD,KAHQ;AAITU,IAAAA,YAJS,wBAIKP,KAJL,EAIYG,QAJZ,EAIsB;AAC7BH,MAAAA,KAAK,CAACG,QAAN,GAAiBA,QAAjB;AACD;AANQ,GAZiB;AAoB5BK,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,QAAoB,QAApBA,QAAoB,EAAVC,MAAU,QAAVA,MAAU;AACjCA,gBAAAA,MAAM,CAAC,WAAD,CAAN;AACAD,gBAAAA,QAAQ,CAAC,aAAD,CAAR;;AAFiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGlC,KAJM;AAKDE,IAAAA,WALC,8BAKwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVD,gBAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA;AAAA,uBAENhB,IAAI,CAAC;AAAEkB,kBAAAA,IAAI,EAAE;AAAR,iBAAD,CAFE;;AAAA;AAEvBV,gBAAAA,QAFuB;AAG3BQ,gBAAAA,MAAM,CAAC,cAAD,EAAiBR,QAAjB,CAAN;AAH2B;AAAA;;AAAA;AAAA;AAAA;AAK3BW,gBAAAA,OAAO,CAACC,GAAR;;AAL2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO9B;AAZM,GApBmB;AAkC5BC,EAAAA,OAAO,EAAE;AACPpB,IAAAA,KAAK,EAALA;AADO;AAlCmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport store from 'store'\nimport base from '@/config/base.config'\nimport http from '@/api/http'\n\nimport modal from './modules/modal'\n\nconst { TOKEN_NAME } = base\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    token: store.get(TOKEN_NAME) || \"\",\n    userInfo: {}\n  },\n  getters: {\n    userInfo (state) {\n      if (state.token) {\n        return\n      }\n    }\n  },\n  mutations: {\n    SET_TOKEN (state) {\n      state.token = store.get(TOKEN_NAME)\n    },\n    SET_USERINFO (state, userInfo) {\n      state.userInfo = userInfo\n    }\n  },\n  actions: {\n    async login ({ dispatch, commit }) {\n      commit('SET_TOKEN')\n      dispatch('getUserInfo')\n    },\n    async getUserInfo ({ commit }) {\n      try {\n        let userInfo = await http({ type: 'getUserInfo' })\n        commit('SET_USERINFO', userInfo)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  },\n  modules: {\n    modal\n  }\n})\n"]}]}