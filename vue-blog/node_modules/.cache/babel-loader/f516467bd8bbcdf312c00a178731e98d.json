{"remainingRequest":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\src\\api\\common.js","dependencies":[{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\src\\api\\common.js","mtime":1611584882040},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1OTg4NFx1NzlEMVx1NzNFRDYuMi9cdTUyNERcdTdBRUZcdTY4NDZcdTY3QjZcdTczRUQvdnVlL1Z1ZVx1N0IyQ1x1NEU4Q1x1NTM0MVx1NEUwOVx1NTkyOSBWdWVcdTlBRDhcdTdFQTcgIFZ1ZSAgdnVlLWJsb2cgXHU2NTg3XHU3QUUwXHU1MjE3XHU4ODY4L1x1Njg0OFx1NEY4Qi92dWUtYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICdzdG9yZSc7CmltcG9ydCBiYXNlIGZyb20gJ0AvY29uZmlnL2Jhc2UuY29uZmlnJzsKdmFyIEJBU0VfVVJMID0gYmFzZS5CQVNFX1VSTCwKICAgIFRJTUVPVVQgPSBiYXNlLlRJTUVPVVQsCiAgICBUT0tFTl9OQU1FID0gYmFzZS5UT0tFTl9OQU1FOwp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogQkFTRV9VUkwsCiAgdGltZW91dDogVElNRU9VVAp9KTsgLy9yZXF1ZXN0IOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY29uZmlnKSB7CiAgICB2YXIgdG9rZW47CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHRva2VuID0gc3RvcmUuZ2V0KFRPS0VOX05BTUUpOwoKICAgICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjb25maWcpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpLCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8v5Yml56a75pyA5aSW5bGCCiAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7CiAgcmV0dXJuIHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5kYXRhOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"sources":["D:/预科班6.2/前端框架班/vue/Vue第二十三天 Vue高级  Vue  vue-blog 文章列表/案例/vue-blog/src/api/common.js"],"names":["axios","store","base","BASE_URL","TIMEOUT","TOKEN_NAME","service","create","baseURL","timeout","interceptors","request","use","config","token","get","headers","error","Promise","reject","response","result","data"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;IAEQC,Q,GAAkCD,I,CAAlCC,Q;IAAUC,O,GAAwBF,I,CAAxBE,O;IAASC,U,GAAeH,I,CAAfG,U;AAC3B,IAAMC,OAAO,GAAGN,KAAK,CAACO,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAEL,QADkB;AAE3BM,EAAAA,OAAO,EAAEL;AAFkB,CAAb,CAAhB,C,CAKA;;AACAE,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B;AAAA,qEAAiC,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,YAAAA,KAD2B,GACnBb,KAAK,CAACc,GAAN,CAAUV,UAAV,CADmB;;AAE/B,gBAAIS,KAAJ,EAAW;AACTD,cAAAA,MAAM,CAACG,OAAP,CAAe,eAAf,qBAA4CF,KAA5C;AACD;;AAJ8B,6CAKxBD,MALwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjC;;AAAA;AAAA;AAAA;AAAA,KAMG,UAACI,KAAD,EAAW;AACZ,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CARD;AAUAX,OAAO,CAACI,YAAR,CAAqBU,QAArB,CAA8BR,GAA9B,CAAkC,UAACQ,QAAD,EAAc;AAC9C;AACA,MAAIC,MAAM,GAAGD,QAAQ,CAACE,IAAtB;AACA,SAAOD,MAAP,aAAOA,MAAP,uBAAOA,MAAM,CAAEC,IAAf;AACD,CAJD,EAIG,UAACL,KAAD,EAAW;AACZ,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAND;AAQA,eAAeX,OAAf","sourcesContent":["import axios from 'axios'\r\nimport store from 'store'\r\nimport base from '@/config/base.config'\r\n\r\nconst { BASE_URL, TIMEOUT, TOKEN_NAME } = base\r\nconst service = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: TIMEOUT\r\n})\r\n\r\n//request 拦截器\r\nservice.interceptors.request.use(async (config) => {\r\n  let token = store.get(TOKEN_NAME)\r\n  if (token) {\r\n    config.headers['Authorization'] = `Bearer ${token}`\r\n  }\r\n  return config\r\n}, (error) => {\r\n  return Promise.reject(error);\r\n});\r\n\r\nservice.interceptors.response.use((response) => {\r\n  //剥离最外层\r\n  let result = response.data\r\n  return result?.data;\r\n}, (error) => {\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default service\r\n\r\n\r\n"]}]}