{"remainingRequest":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\src\\util\\encrypt.js","dependencies":[{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\src\\util\\encrypt.js","mtime":1611584132230},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\预科班6.2\\前端框架班\\vue\\Vue第二十三天 Vue高级  Vue  vue-blog 文章列表\\案例\\vue-blog\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1OTg4NFx1NzlEMVx1NzNFRDYuMi9cdTUyNERcdTdBRUZcdTY4NDZcdTY3QjZcdTczRUQvdnVlL1Z1ZVx1N0IyQ1x1NEU4Q1x1NTM0MVx1NEUwOVx1NTkyOSBWdWVcdTlBRDhcdTdFQTcgIFZ1ZSAgdnVlLWJsb2cgXHU2NTg3XHU3QUUwXHU1MjE3XHU4ODY4L1x1Njg0OFx1NEY4Qi92dWUtYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBzdG9yZSBmcm9tICdzdG9yZSc7CmltcG9ydCBiYXNlIGZyb20gJ0AvY29uZmlnL2Jhc2UuY29uZmlnJzsKaW1wb3J0IEpTRW5jcnlwdCBmcm9tICdqc2VuY3J5cHQnOwppbXBvcnQgc2VydmljZSBmcm9tICdAL2FwaS9jb21tb24nOwp2YXIgUFVCS0VZX05BTUUgPSBiYXNlLlBVQktFWV9OQU1FOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbmNyeXB0KF94KSB7CiAgcmV0dXJuIF9lbmNyeXB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9lbmNyeXB0KCkgewogIF9lbmNyeXB0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbHVlKSB7CiAgICB2YXIga2V5LCByZXN1bHQsIF9lbmNyeXB0MjsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGtleSA9IHN0b3JlLmdldChQVUJLRVlfTkFNRSk7CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwoKICAgICAgICAgICAgaWYgKCEoIWtleSB8fCBrZXkgPT09ICd1bmRlZmluZWQnKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmdldCgnL2tleXMnKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGtleSA9IHJlc3VsdC5wdWJLZXk7CiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cLiArL2csICcnKTsKICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1tcclxuXS9nLCAnJyk7CiAgICAgICAgICAgIHN0b3JlLnNldChQVUJLRVlfTkFNRSwga2V5KTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBfZW5jcnlwdDIgPSBuZXcgSlNFbmNyeXB0KCk7CgogICAgICAgICAgICBfZW5jcnlwdDIuc2V0UHVibGljS2V5KGtleSk7CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfZW5jcnlwdDIuZW5jcnlwdCh2YWx1ZSkpOwoKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxNV1dKTsKICB9KSk7CiAgcmV0dXJuIF9lbmNyeXB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["D:/预科班6.2/前端框架班/vue/Vue第二十三天 Vue高级  Vue  vue-blog 文章列表/案例/vue-blog/src/util/encrypt.js"],"names":["store","base","JSEncrypt","service","PUBKEY_NAME","encrypt","value","key","get","result","pubKey","replace","set","setPublicKey","console","log"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,OAAP,MAAoB,cAApB;IAEQC,W,GAAgBH,I,CAAhBG,W;AACR,wBACiBC,OADjB;AAAA;AAAA;;;qEACE,iBAAwBC,KAAxB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACIC,YAAAA,GADJ,GACUP,KAAK,CAACQ,GAAN,CAAUJ,WAAV,CADV;AAAA;;AAAA,kBAGM,CAACG,GAAD,IAAQA,GAAG,KAAK,WAHtB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIuBJ,OAAO,CAACK,GAAR,CAAY,OAAZ,CAJvB;;AAAA;AAIQC,YAAAA,MAJR;AAKIF,YAAAA,GAAG,GAAGE,MAAM,CAACC,MAAb;AACAH,YAAAA,GAAG,GAAGA,GAAG,CAACI,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAN;AACAJ,YAAAA,GAAG,GAAGA,GAAG,CAACI,OAAJ,CAAY,SAAZ,EAAuB,EAAvB,CAAN;AACAX,YAAAA,KAAK,CAACY,GAAN,CAAUR,WAAV,EAAuBG,GAAvB;;AARJ;AAUMF,YAAAA,SAVN,GAUgB,IAAIH,SAAJ,EAVhB;;AAWEG,YAAAA,SAAO,CAACQ,YAAR,CAAqBN,GAArB;;AAXF,6CAYSF,SAAO,CAACA,OAAR,CAAgBC,KAAhB,CAZT;;AAAA;AAAA;AAAA;AAcEQ,YAAAA,OAAO,CAACC,GAAR;;AAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import store from 'store'\r\nimport base from '@/config/base.config'\r\nimport JSEncrypt from 'jsencrypt'\r\nimport service from '@/api/common'\r\n\r\nconst { PUBKEY_NAME } = base\r\nexport default\r\n  async function encrypt (value) {\r\n  let key = store.get(PUBKEY_NAME)\r\n  try {\r\n    if (!key || key === 'undefined') {\r\n      let result = await service.get('/keys')\r\n      key = result.pubKey\r\n      key = key.replace(/\\. +/g, '')\r\n      key = key.replace(/[\\r\\n]/g, '')\r\n      store.set(PUBKEY_NAME, key)\r\n    }\r\n    let encrypt = new JSEncrypt()\r\n    encrypt.setPublicKey(key)\r\n    return encrypt.encrypt(value)\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n}"]}]}