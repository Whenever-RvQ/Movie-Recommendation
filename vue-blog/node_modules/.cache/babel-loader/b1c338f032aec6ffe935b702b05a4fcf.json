{"remainingRequest":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\githubdesk\\Movie-Recommendation\\vue-blog\\src\\views\\MovieList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\src\\views\\MovieList.vue","mtime":1763433320665},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Movie-Recommendation\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkQ6L2dpdGh1YmRlc2svTW92aWUtUmVjb21tZW5kYXRpb24vdnVlLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovZ2l0aHViZGVzay9Nb3ZpZS1SZWNvbW1lbmRhdGlvbi92dWUtYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBNb3ZpZUl0ZW0gZnJvbSAnQC9jb21wb25lbnRzL21vdmllL01vdmllSXRlbSc7CmltcG9ydCBCYXNlNDA0IGZyb20gJ0AvY29tcG9uZW50cy9iYXNlL0Jhc2U0MDQudnVlJzsKaW1wb3J0IFFTIGZyb20gJ3FzJzsKaW1wb3J0IF8gZnJvbSAnbG9hZHNoJzsKdmFyIFRIID0gMjAwOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01vdmllTGlzdCcsCiAgaW5qZWN0OiBbJ2Nsb3NlTG9hZENsb2NrJ10sCiAgY29tcG9uZW50czogewogICAgTW92aWVJdGVtOiBNb3ZpZUl0ZW0sCiAgICBCYXNlNDA0OiBCYXNlNDA0CiAgfSwKICBwcm9wczogewogICAgbG9hZGluZzogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW92aWVzOiBbXSwKICAgICAgcGFnZTogMSwKICAgICAgc2l6ZTogMjAwLAogICAgICBzY3JvbGxUb3A6IDAsCiAgICAgIHNob3c0MDQ6IGZhbHNlLAogICAgICBxOiAnJywKICAgICAgcXVlcnk6IHsKICAgICAgICBjb2x1bW46ICcnLAogICAgICAgIHE6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZyhsb2FkKSB7CiAgICAgIGlmIChsb2FkKSB7CiAgICAgICAgdGhpcy5nZXRNb3ZpZXMoKTsKICAgICAgfQogICAgfSwKICAgICRyb3V0ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuaGFuZGxlUm91dGVDaGFuZ2UoKTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZCgpIHsKICAgIHZhciBfdGhpcyQkcm91dGUkcXVlcnk7CgogICAgaWYgKHRoaXMuc2Nyb2xsVG9wKSB7CiAgICAgIHRoaXMuJHJlZnNbJ3Njcm9sbFZpZXcnXS5zY3JvbGxUbyh7CiAgICAgICAgeTogdGhpcy5zY3JvbGxUb3AKICAgICAgfSwgMzAwKTsKICAgIH0KCiAgICBpZiAoKF90aGlzJCRyb3V0ZSRxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5KSAhPT0gbnVsbCAmJiBfdGhpcyQkcm91dGUkcXVlcnkgIT09IHZvaWQgMCAmJiBfdGhpcyQkcm91dGUkcXVlcnkuY29sdW1uSWQpIHsKICAgICAgdmFyIF90aGlzJCRyb3V0ZSRxdWVyeTI7CgogICAgICB0aGlzLnF1ZXJ5LmNvbHVtbiA9IChfdGhpcyQkcm91dGUkcXVlcnkyID0gdGhpcy4kcm91dGUucXVlcnkpID09PSBudWxsIHx8IF90aGlzJCRyb3V0ZSRxdWVyeTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeTIuY29sdW1uSWQ7CiAgICB9CiAgfSwKICBkZWFjdGl2YXRlZDogZnVuY3Rpb24gZGVhY3RpdmF0ZWQoKSB7CiAgICB0aGlzLnF1ZXJ5ID0gewogICAgICBjb2x1bW46ICcnLAogICAgICBxOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE1vdmllcygpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy4kRXZlbnRCdXMuJG9uKCd1cGRhdGVWaWV3JywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5nZXRNb3ZpZXMoKTsKICAgIH0pOwogICAgdGhpcy4kRXZlbnRCdXMuJG9uKCdhY3RpdmVTZWFyY2gnLCBmdW5jdGlvbiAocSkgewogICAgICBfdGhpcy5xID0gcTsKCiAgICAgIF90aGlzLmNhbmNlbE1vdmllcygpOwoKICAgICAgX3RoaXMuZ2V0TW92aWVzKCk7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5yZWZyZXNoU2VhcmNoKCk7CiAgICAgIH0sIDUwMCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVJvdXRlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVSb3V0ZUNoYW5nZSgpIHsKICAgICAgdmFyIF90aGlzJCRyb3V0ZSRxdWVyeTMsIF90aGlzJCRyb3V0ZSRxdWVyeTQ7CgogICAgICAvLyDmo4Dmn6Xmn6Xor6Llj4LmlbDmmK/lkKblj5HnlJ/lj5jljJYKICAgICAgdmFyIG5ld0NvbHVtbiA9ICgoX3RoaXMkJHJvdXRlJHF1ZXJ5MyA9IHRoaXMuJHJvdXRlLnF1ZXJ5KSA9PT0gbnVsbCB8fCBfdGhpcyQkcm91dGUkcXVlcnkzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcm91dGUkcXVlcnkzLmNvbHVtbklkKSB8fCAnJzsKICAgICAgdmFyIG5ld1EgPSAoKF90aGlzJCRyb3V0ZSRxdWVyeTQgPSB0aGlzLiRyb3V0ZS5xdWVyeSkgPT09IG51bGwgfHwgX3RoaXMkJHJvdXRlJHF1ZXJ5NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJvdXRlJHF1ZXJ5NC5xKSB8fCAnJzsgLy8g5aaC5p6c5p+l6K+i5Y+C5pWw5Y+R55Sf5LqG5Y+Y5YyW77yM6YeN5paw5Yqg6L295pWw5o2uCgogICAgICBpZiAodGhpcy5xdWVyeS5jb2x1bW4gIT09IG5ld0NvbHVtbiB8fCB0aGlzLnF1ZXJ5LnEgIT09IG5ld1EpIHsKICAgICAgICBjb25zb2xlLmxvZygn5p+l6K+i5Y+C5pWw5Y+R55Sf5LqG5Y+Y5YyW77yM6YeN5paw5Yqg6L295pWw5o2uJyk7CiAgICAgICAgdGhpcy5xdWVyeS5jb2x1bW4gPSBuZXdDb2x1bW47CiAgICAgICAgdGhpcy5xdWVyeS5xID0gbmV3UTsKICAgICAgICB0aGlzLmNhbmNlbE1vdmllcygpOwogICAgICAgIHRoaXMuZ2V0TW92aWVzKCk7CiAgICAgIH0KICAgIH0sCiAgICByb3V0ZU1vdmllOiBmdW5jdGlvbiByb3V0ZU1vdmllKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnbW92aWUnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZWZyZXNoU2VhcmNoOiBmdW5jdGlvbiByZWZyZXNoU2VhcmNoKCkgewogICAgICB0aGlzLnEgPSAnJzsKICAgIH0sCiAgICBzZXRRdWVyeTogZnVuY3Rpb24gc2V0UXVlcnkoKSB7CiAgICAgIHZhciBfdGhpcyQkcm91dGUkcXVlcnk1LCBfdGhpcyQkcm91dGUkcXVlcnk2OwoKICAgICAgdmFyIGNvbHVtbiA9IChfdGhpcyQkcm91dGUkcXVlcnk1ID0gdGhpcy4kcm91dGUucXVlcnkpID09PSBudWxsIHx8IF90aGlzJCRyb3V0ZSRxdWVyeTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeTUuY29sdW1uSWQ7CiAgICAgIHZhciBxID0gKChfdGhpcyQkcm91dGUkcXVlcnk2ID0gdGhpcy4kcm91dGUucXVlcnkpID09PSBudWxsIHx8IF90aGlzJCRyb3V0ZSRxdWVyeTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyb3V0ZSRxdWVyeTYucSkgfHwgdGhpcy5xIHx8IHVuZGVmaW5lZDsKICAgICAgdmFyIHF1ZXJ5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgY29sdW1uOiBjb2x1bW4sCiAgICAgICAgcTogcQogICAgICB9KSk7CiAgICAgIHJldHVybiBxdWVyeTsKICAgIH0sCiAgICBjYW5jZWxNb3ZpZXM6IGZ1bmN0aW9uIGNhbmNlbE1vdmllcygpIHsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgdGhpcy5tb3ZpZXMgPSBbXTsKICAgIH0sCiAgICBsb2FkTW9yZTogXy50aHJvdHRsZShmdW5jdGlvbiAodmVydGljYWwsIGhvcml6b250YWwsIG5hdGl2ZUV2ZW50KSB7CiAgICAgIHRoaXMuc2Nyb2xsVG9wID0gdmVydGljYWwuc2Nyb2xsVG9wOwoKICAgICAgaWYgKHRoaXMubG9hZGluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHN0ID0gdmVydGljYWwuc2Nyb2xsVG9wOwogICAgICB2YXIgc2ggPSBuYXRpdmVFdmVudC5zcmNFbGVtZW50LnNjcm9sbEhlaWdodCAtIG5hdGl2ZUV2ZW50LnNyY0VsZW1lbnQuY2xpZW50SGVpZ2h0OwoKICAgICAgaWYgKHN0ICsgVEggPiBzaCkgewogICAgICAgIGNvbnNvbGUubG9nKCfliqDovb3mm7TlpJonKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuZ2V0TW92aWVzKCk7CiAgICAgIH0KICAgIH0sIDUwMCwgZmFsc2UpLAogICAgZ2V0TW92aWVzOiBmdW5jdGlvbiBnZXRNb3ZpZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGF0YSwgcXVlcnk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgc2l6ZTogX3RoaXMyLnNpemUsCiAgICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzMi5wYWdlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcXVlcnkgPSBfdGhpczIuc2V0UXVlcnkoKTsKCiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmVudHJpZXMocXVlcnkpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgZGF0YS5xdWVyeSA9IFFTLnN0cmluZ2lmeShxdWVyeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGFwaSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdtb3ZpZXMnLAogICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgLy8g5YWz6ZSu5L+u5pS577ya5Zyo6L+Z6YeM5Yik5pat5piv5ZCm5pi+56S6NDA06aG16Z2iCiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGlzdC5sZW5ndGggPT09IDAgJiYgX3RoaXMyLnBhZ2UgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmkJzntKLkvYbmsqHmnInnu5PmnpzvvIzmmL7npLo0MDQKICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvdzQwNCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm1vdmllcyA9IFtdOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5tb3ZpZXMubGVuZ3RoID49IHJlc3VsdC50b3RhbCkgewogICAgICAgICAgICAgICAgICAgIC8vIOayoeacieabtOWkmuS6hgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmsqHmnInmm7TlpJrkuoYnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMiRtb3ZpZXM7CgogICAgICAgICAgICAgICAgICAgIC8vIOato+W4uOaYvuekuuaWh+eroAogICAgICAgICAgICAgICAgICAgIF90aGlzMi5zaG93NDA0ID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgIChfdGhpczIkbW92aWVzID0gX3RoaXMyLm1vdmllcykucHVzaC5hcHBseShfdGhpczIkbW92aWVzLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzdWx0Lmxpc3QpKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlTG9hZENsb2NrKCk7IC8v6LCD55So54i257uE5Lu2cHJvdmlkZeS8oOmAkueahOWFs+mXrWxvYWTplIHmlrnms5UKCgogICAgICAgICAgICAgICAgICAgIF90aGlzMi5wYWdlKys7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6I635Y+W5aSx6LSlJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["MovieList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <div class=\"article-wrap\" v-if=\"movies && !show404\">\r\n    <Scroll @handle-scroll=\"loadMore\" ref=\"scrollView\">\r\n      <div class=\"blog-content--item\" v-for=\"item in movies\" :key=\"item.id\">\r\n        <router-link :to=\"{ name: 'movie', params: { id: item._id } }\">\r\n          <MovieItem :movie=\"item\" />\r\n        </router-link>\r\n      </div>\r\n    </Scroll>\r\n  </div>\r\n  <Base404 v-else-if=\"show404\" />\r\n</template>\r\n\r\n<script>\r\nimport MovieItem from '@/components/movie/MovieItem'\r\nimport Base404 from '@/components/base/Base404.vue';\r\nimport QS from 'qs'\r\nimport _ from 'loadsh'\r\nconst TH = 200;\r\nexport default {\r\n  name: 'MovieList',\r\n  inject: ['closeLoadClock'],\r\n  components: {\r\n    MovieItem, Base404\r\n  },\r\n  props: {\r\n    loading: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      movies: [],\r\n      page: 1,\r\n      size: 200,\r\n      scrollTop: 0,\r\n      show404: false,\r\n      q:'',\r\n      query: {\r\n        column: '',\r\n        q: ''\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    loading(load) {\r\n      if (load) {\r\n        this.getMovies()\r\n      }\r\n    },\r\n    $route: {\r\n      handler() {\r\n        this.handleRouteChange()\r\n\r\n      },\r\n\r\n      immediate: true\r\n    }\r\n  },\r\n  activated() {\r\n    if (this.scrollTop) {\r\n      this.$refs['scrollView'].scrollTo({\r\n        y: this.scrollTop\r\n      }, 300)\r\n    }\r\n\r\n    if (this.$route.query?.columnId) {\r\n      this.query.column = this.$route.query?.columnId\r\n    }\r\n  },\r\n\r\n  deactivated() {\r\n    this.query = {\r\n      column: '',\r\n      q: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getMovies()\r\n\r\n  },\r\n  mounted() {\r\n    this.$EventBus.$on('updateView', () => {\r\n      this.getMovies()\r\n\r\n    })\r\n\r\n    this.$EventBus.$on('activeSearch', (q) => {\r\n      this.q = q\r\n      this.cancelMovies()\r\n      this.getMovies()\r\n      setTimeout(() => {\r\n        this.refreshSearch()\r\n      }, 500)\r\n    })\r\n  },\r\n  methods: {\r\n    handleRouteChange() {\r\n      // 检查查询参数是否发生变化\r\n      const newColumn = this.$route.query?.columnId || '';\r\n      const newQ = this.$route.query?.q || '';\r\n\r\n      // 如果查询参数发生了变化，重新加载数据\r\n      if (this.query.column !== newColumn || this.query.q !== newQ) {\r\n        console.log('查询参数发生了变化，重新加载数据');\r\n        this.query.column = newColumn;\r\n        this.query.q = newQ;\r\n        this.cancelMovies();\r\n        this.getMovies();\r\n      }\r\n    },\r\n    routeMovie(id) {\r\n      this.$router.push({ name: 'movie', params: { id: id } })\r\n    },\r\n    refreshSearch(){\r\n      this.q=''\r\n    },\r\n    setQuery() {\r\n      let column = this.$route.query?.columnId\r\n      let q = this.$route.query?.q || this.q || undefined;\r\n      let query = JSON.parse(JSON.stringify({\r\n        column, q\r\n      }))\r\n      return query\r\n    },\r\n    cancelMovies() {\r\n      this.page = 1\r\n      this.movies = []\r\n    },\r\n\r\n    loadMore: _.throttle(function (vertical, horizontal, nativeEvent) {\r\n      this.scrollTop = vertical.scrollTop\r\n\r\n      if (this.loading) {\r\n        return\r\n      }\r\n      let st = vertical.scrollTop\r\n      let sh = nativeEvent.srcElement.scrollHeight - nativeEvent.srcElement.clientHeight\r\n\r\n      if (st + TH > sh) {\r\n        console.log('加载更多')\r\n        this.loading = true\r\n        this.getMovies()\r\n      }\r\n    }, 500, false),\r\n    async getMovies() {\r\n\r\n      let data = { size: this.size, page: this.page }\r\n      let query = this.setQuery()\r\n      if (Object.entries(query).length > 0) {\r\n        data.query = QS.stringify(query)\r\n      }\r\n      console.log(data)\r\n      await this.$api({ type: 'movies', data }).then(result => {\r\n        // 关键修改：在这里判断是否显示404页面\r\n        if (result.list.length === 0 && this.page === 1) {\r\n          // 搜索但没有结果，显示404\r\n          this.show404 = true;\r\n          this.movies = [];\r\n        } else if (this.movies.length >= result.total) {\r\n          // 没有更多了\r\n          console.log('没有更多了')\r\n          return\r\n        } else {\r\n          // 正常显示文章\r\n          this.show404 = false;\r\n          this.movies.push(...result.list)\r\n          this.closeLoadClock() //调用父组件provide传递的关闭load锁方法\r\n          this.page++\r\n        }\r\n      }).catch(err => {\r\n        this.$notify.error({\r\n          title: '获取失败',\r\n          message: err.message\r\n        })\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.article-wrap\r\n  overflow hidden\r\n  height 100%\r\n</style>"],"sourceRoot":"src/views"}]}