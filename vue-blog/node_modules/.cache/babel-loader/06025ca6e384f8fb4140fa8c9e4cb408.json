{"remainingRequest":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\githubdesk\\Vue-blog\\vue-blog\\src\\views\\Column.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\src\\views\\Column.vue","mtime":1762611711477},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\githubdesk\\Vue-blog\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9naXRodWJkZXNrL1Z1ZS1ibG9nL3Z1ZS1ibG9nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFdvcmRDbG91ZCBmcm9tICd2dWUtd29yZGNsb3VkJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb2x1bW4nLAogIGNvbXBvbmVudHM6IHsKICAgIFdvcmRDbG91ZDogV29yZENsb3VkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDb2x1bW5zKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRFdmVudEJ1cy4kb24oJ3VwZGF0ZVZpZXcnLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmdldENvbHVtbnMoKTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbHVtbldvcmRzOiBmdW5jdGlvbiBjb2x1bW5Xb3JkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuY29sdW1ucy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgdmFsdWU6IGl0ZW0uYWlkcy5sZW5ndGggfHwgMCwKICAgICAgICAgIGlkOiBpdGVtLl9pZAogICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgd29yZENsaWNrSGFuZGxlcjogZnVuY3Rpb24gd29yZENsaWNrSGFuZGxlcihuYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyJGNvbHVtbnMkZmluZDsKCiAgICAgICAgdmFyIGNvbHVtbklkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5oaWRlVG9vbHRpcCgpOwoKICAgICAgICAgICAgICAgIGNvbHVtbklkID0gKF90aGlzMiRjb2x1bW5zJGZpbmQgPSBfdGhpczIuY29sdW1ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IG5hbWU7CiAgICAgICAgICAgICAgICB9KSkgPT09IG51bGwgfHwgX3RoaXMyJGNvbHVtbnMkZmluZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMyJGNvbHVtbnMkZmluZC5faWQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXJJbmZvKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLiRzdG9yZS5zdGF0ZS51c2VySW5mbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnZ2V0VXNlckluZm8nKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8g5YaN5qyh5qOA5p+l5piv5ZCm6I635Y+W5Yiw55So5oi35L+h5oGvCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi4kc3RvcmUuc3RhdGUudXNlckluZm8pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRub3RpZnkud2FybmluZyh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7flhYjnmbvlvZXku6Xojrflj5blrozmlbTlip/og70nCiAgICAgICAgICAgICAgICAgIH0pOyAvLyDlj6/ku6XpgInmi6nmmK/lkKbnu6fnu63ot7PovawKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDQpOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6I635Y+W55So5oi35L+h5oGv5aSx6LSl77yM6K+356iN5ZCO6YeN6K+VJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb2x1bW5JZCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdpbmRleCcsCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgY29sdW1uSWQ6IGNvbHVtbklkCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGlkZVRvb2x0aXA6IGZ1bmN0aW9uIGhpZGVUb29sdGlwKCkgewogICAgICAvLyDnp7vpmaTpobXpnaLkuK3miYDmnInnmoQgdG9vbHRpcCDlhYPntKAKICAgICAgdmFyIHRvb2x0aXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2x0aXAnKTsKICAgICAgdG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbiAodG9vbHRpcCkgewogICAgICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB0b29sdGlwLnJlbW92ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDb2x1bW5zOiBmdW5jdGlvbiBnZXRDb2x1bW5zKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb2x1bW5zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRhcGkoewogICAgICAgICAgICAgICAgICB0eXBlOiAnY29sdW1ucycKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjb2x1bW5zID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczMuY29sdW1ucyA9IGNvbHVtbnMubGlzdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Column.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"blog-column-words\">\r\n    <WordCloud :data=\"columnWords\" nameKey=\"name\" :fontSize=\"[15, 60]\" valueKey=\"value\"\r\n      :color=\"['#1f77b4', '#629fc9', '#94bedb', '#c9e0ef']\" :showTooltip=\"true\" :tooltipFormatter=\"tooltipFormatter\"\r\n      :wordClick=\"wordClickHandler\" class=\"hi\">\r\n\r\n    </WordCloud>\r\n\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport WordCloud from 'vue-wordcloud'\r\n\r\nexport default {\r\n  name: 'Column',\r\n  components: { WordCloud },\r\n  data() {\r\n    return {\r\n      columns: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getColumns()\r\n  },\r\n  mounted() {\r\n    this.$EventBus.$on('updateView', () => {\r\n      this.getColumns()\r\n    })\r\n  },\r\n  computed: {\r\n    columnWords() {\r\n      return this.columns.map(item => {\r\n\r\n        return {\r\n          name: item.name,\r\n          value: item.aids.length || 0,\r\n          id: item._id\r\n        }\r\n      })\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async wordClickHandler(name) {\r\n      this.hideTooltip()\r\n\r\n      let columnId = this.columns.find(item => {\r\n        return item.name === name\r\n      })?._id\r\n      console.log(this.$store.state.userInfo)\r\n      if (!this.$store.state.userInfo) {\r\n        try {\r\n          await this.$store.dispatch('getUserInfo')\r\n          // 再次检查是否获取到用户信息\r\n          if (!this.$store.state.userInfo) {\r\n            this.$notify.warning({\r\n              title: '提示',\r\n              message: '请先登录以获取完整功能'\r\n            })\r\n            // 可以选择是否继续跳转\r\n          }\r\n        } catch (err) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: '获取用户信息失败，请稍后重试'\r\n          })\r\n          return // 获取失败则不继续\r\n        }\r\n      }\r\n      console.log(columnId)\r\n\r\n      this.$router.push({ name: 'index', query: { columnId: columnId } })\r\n    },\r\n    hideTooltip() {\r\n      // 移除页面中所有的 tooltip 元素\r\n      const tooltips = document.querySelectorAll('.tooltip');\r\n      tooltips.forEach(tooltip => {\r\n        tooltip.style.display = 'none';\r\n        tooltip.remove();\r\n      });\r\n    },\r\n\r\n    async getColumns() {\r\n      try {\r\n        let columns = await this.$api({ type: 'columns' })\r\n        this.columns = columns.list\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.blog-column-words svg\r\n  user-select none\r\n  & text\r\n    cursor pointer\r\n    display: block\r\n    font-weight 400\r\n:root\r\n  --wechat-green: #07c160;\r\n  --text-dark: #1d2129;\r\n  --text-light: #666;\r\n  --bg-white: #ffffff;\r\n  --shadow: 0 2px 10px rgba(0, 0, 0, 0.5);\r\n  --transition: all 0.2s ease;\r\n// 自定义提示框样式（如果组件支持）\r\ndiv.tooltip\r\n  // position absolute !important\r\n  // top: 30px !important /* 提示框在目标元素上方 */\r\n  // left: 50% !important\r\n  height: auto !important\r\n  display: flex !important\r\n  transform: translateX(-50%) translateY(-60%) !important\r\n  padding: 12px 16px !important\r\n  background: var(--bg-white) !important\r\n  border-radius: 8px /* 微信对话框圆角 */ !important\r\n  box-shadow: var(--shadow) !important\r\n  min-width: 180px !important\r\n  text-align: center !important\r\n  justify-content: center !important\r\n  transition: var(--transition) !important\r\n  z-index: 999 !important\r\n  color: black !important\r\n  &::after\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -8px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 8px solid transparent;\r\n    border-right: 8px solid transparent;\r\n    border-top: 8px solid var(--bg-white); /* 与提示框背景色一致 */\r\n</style>\r\n"],"sourceRoot":"src/views"}]}